"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const exec_1 = require("./lib/exec");
const proj_1 = require("./lib/proj");
describe('list', () => {
    it('can list deps', () => {
        let proj = proj_1.buildProj({
            'monorepo.json': {
                'packages': ['packages/*']
            },
            'package.json': {
                dependencies: {
                    moment: '*'
                }
            },
            'packages/': {
                'core/': {
                    'package.json': {
                        name: 'core',
                        dependencies: {
                            moment: '*'
                        }
                    }
                },
                'plug/': {
                    'package.json': {
                        name: 'plug',
                        dependencies: {
                            'core': '*'
                        }
                    }
                }
            }
        });
        let { success, output } = exec_1.bin(['list'], proj.path);
        expect(success).toBe(true);
        expect(output).toBe('core\nplug\n');
    });
});
